‚úÖ 1. Client Component-‡¶è try...catch (API call / event handler)

üëâ onClick, onSubmit, useEffect‚Äì‡¶è‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞‡ßá ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶¨‡ßá‡¶∂‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶π‡ßü‡•§

  "use client";

import { useState } from "react";

export default function LoginPage() {
  const [error, setError] = useState("");

  const handleLogin = async () => {
    try {
      const res = await fetch("/api/login", {
        method: "POST",
      });

      if (!res.ok) {
        throw new Error("Login failed");
      }

      const data = await res.json();
      console.log(data);
    } catch (err: any) {
      setError(err.message);
      console.error("Error:", err);
    }
  };

  return (
    <div>
      <button onClick={handleLogin}>Login</button>
      {error && <p className="text-red-500">{error}</p>}
    </div>
  );
}

‚úÖ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá try = ‡¶∏‡¶´‡¶≤ ‡¶ï‡ßã‡¶°
‚ùå catch = error handle + UI-‡¶§‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã

‚úÖ 2. Server Component-‡¶è try...catch (data fetching)

üëâ Next.js 13+ ‡¶è Server Component default

export default async function ProductsPage() {
  try {
    const res = await fetch("https://dummyjson.com/products");

    if (!res.ok) {
      throw new Error("Failed to fetch products");
    }

    const data = await res.json();

    return (
      <ul>
        {data.products.map((p: any) => (
          <li key={p.id}>{p.title}</li>
        ))}
      </ul>
    );
  } catch (error) {
    return <p className="text-red-500">Something went wrong</p>;
  }
}


‚úÖ Server-side error ‡¶π‡¶≤‡ßá‡¶ì page break ‡¶®‡¶æ ‡¶π‡¶¨‡ßá

‚úÖ 3. API Route-‡¶è try...catch (Most Important ‚úÖ)

üëâ Next.js API / Route Handler-‡¶è ‡¶è‡¶ü‡¶æ must use

// app/api/products/route.ts
import { NextResponse } from "next/server";

export async function GET() {
  try {
    const products = [
      { id: 1, name: "Laptop" },
      { id: 2, name: "Mobile" },
    ];

    return NextResponse.json(products);
  } catch (error) {
    return NextResponse.json(
      { message: "Server error" },
      { status: 500 }
    );
  }
}


üìå Production-‡¶è error leak ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßá

‚úÖ 4. Form Submit handling (real use case)
const handleSubmit = async (e: any) => {
  e.preventDefault();

  try {
    await fetch("/api/order", { method: "POST" });
    alert("Order placed");
  } catch {
    alert("Order failed");
  }
};

‚úÖ 5. Common Mistakes (‡¶è‡¶ó‡ßÅ‡¶≤‡ßã ‡¶ï‡¶∞‡ßã ‡¶®‡¶æ ‚ùå)

‚ùå try...catch ‡¶õ‡¶æ‡ßú‡¶æ async/await
‚ùå error ‡¶®‡¶æ throw ‡¶ï‡¶∞‡¶æ
‚ùå ‡¶∂‡ßÅ‡¶ß‡ßÅ console.log ‡¶ï‡¶∞‡ßá UI-‡¶§‡ßá ‡¶®‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã

‚úÖ Best Practice (Pro tip ‚úÖ)
try {
  // risky code
} catch (error) {
  if (error instanceof Error) {
    console.log(error.message);
  }
}


‚úÖ TypeScript-‡¶è safest way
