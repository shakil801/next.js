1я╕ПтГг useSession() ржХрзА?

useSession() рж╣ржЪрзНржЫрзЗ next-auth ржПрж░ ржПржХржЯрж┐ React hook
ЁЯСЙ ржПржЯрж┐ ржмрж░рзНрждржорж╛ржирзЗ рж▓ржЧржЗржи ржХрж░рж╛ ржЗржЙржЬрж╛рж░рзЗрж░ рж╕рзЗрж╢ржи (user info, token, status ржЗрждрзНржпрж╛ржжрж┐) ржжрзЗрзЯред

рж╕рж╛ржзрж╛рж░ржгржнрж╛ржмрзЗ useSession() ржПржоржи ржПржХржЯрж┐ object return ржХрж░рзЗ:

{
  data: session,
  status: "authenticated" | "unauthenticated" | "loading"
}

2я╕ПтГг { data: session } тАФ ржПржЯрж╛ ржХрзА?

ржПржЯрж╛ рж╣рж▓рзЛ object destructuring + rename syntaxред

ЁЯСЙ ржорж╛ржирзЗ:

useSession() ржпрзЗржЗ object ржжрзЗрзЯ

рждрж╛рж░ ржнрж┐рждрж░рзЗрж░ data property

рж╕рзЗржЯрж╛ржХрзЗ ржЖржорж░рж╛ ржирждрзБржи ржирж╛ржорзЗ session ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓рзЗ рж░рж╛ржЦржЫрж┐

ржПржЯрж╛ржХрзЗ ржкрзВрж░рзНржгржнрж╛ржмрзЗ рж▓рж┐ржЦрж▓рзЗ ржПржоржи рж╣рждрзЛЁЯСЗ

const sessionInfo = useSession();
const session = sessionInfo.data;


ржХрж┐ржирзНрждрзБ ржПржХ рж▓рж╛ржЗржирзЗ рж╕рж╣ржЬ ржХрж░рж╛рж░ ржЬржирзНржп рж▓рзЗржЦрж╛ рж╣рзЯрзЗржЫрзЗ:

const { data: session } = useSession();

3я╕ПтГг session ржПрж░ ржнрж┐рждрж░рзЗ ржХрзА ржерж╛ржХрзЗ?

ржпржжрж┐ ржЗржЙржЬрж╛рж░ рж▓ржЧржЗржи ржХрж░рж╛ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ session рж╣ржмрзЗ ржПржоржи:

session = {
  user: {
    name: "Shakil Khan",
    email: "shakil@gmail.com",
    image: "profile.jpg"
  },
  expires: "2025-01-01"
}


ржпржжрж┐ рж▓ржЧржЗржи ржирж╛ ржХрж░рж╛ ржерж╛ржХрзЗ:

session = null

4я╕ПтГг ржХрзЛржерж╛рзЯ ржмрзНржпржмрж╣рж╛рж░ рж╣рзЯ?

тЬЕ ржЗржЙржЬрж╛рж░ рж▓ржЧржЗржи ржЖржЫрзЗ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рждрзЗ
тЬЕ Dashboard / Profile ржжрзЗржЦрж╛рждрзЗ
тЬЕ Role-based access ржХрж░рждрзЗ

ржЙржжрж╛рж╣рж░ржгЁЯСЗ

{session ? (
  <p>Welcome {session.user.name}</p>
) : (
  <p>Please login</p>
)}

тЬЕ рж╕ржВржХрзНрж╖рзЗржкрзЗ
const { data: session } = useSession();


ржорж╛ржирзЗ ЁЯСЙ
ЁЯЯв useSession() ржерзЗржХрзЗ ржкрж╛ржУрзЯрж╛ data ржХрзЗ
ЁЯЯв session ржирж╛ржорзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрж┐
